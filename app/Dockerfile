
# Basis-Image: NGINX mit Alpine Linux (leichtgewichtig)
FROM nginx:alpine

# Installiert git und bash (ohne Cache f端r kleines Image)
RUN apk add --no-cache git bash

# Eigene NGINX-Konfiguration ins Image kopieren
COPY nginx.conf /etc/nginx/nginx.conf

# Entrypoint-Skript ins Image kopieren
COPY entrypoint.sh /entrypoint.sh

# Entrypoint-Skript ausf端hrbar machen
RUN chmod +x /entrypoint.sh

# Healthcheck: pr端ft alle 10s ob /health erreichbar ist
HEALTHCHECK --interval=10s --timeout=2s \
  CMD wget -qO- http://127.0.0.1/health || exit 1

# Startpunkt des Containers (f端hrt entrypoint.sh aus)
ENTRYPOINT ["/entrypoint.sh"]

